# 7 게임 루프와 리얼타임 시뮬레이션

게임은 실시간이고 동적이며 상호적인 컴퓨터 시뮬레이션이다.
따라서 게임에서 시간이라는 개념은 중요한 역할이고 게임에서 시간이 어떻게 활용되는지 반드시 잘 이해하고 있어야 한다.
* 리얼타임
* 게임 시간
* 애니메니션의 로컬 타임라인
* 함수를 실행하는데 걸린 시간

## 7.1 렌더링 루프

정지 화면을 스크린에 빠르게 연속적으로 보여주기 위해서는 루프를 써야 한다.
이런 루프를 렌더 루프라고 부른다.

## 7.2 게임 루프

게임은 상호작용하는 다양한 하부 시스템으로 이뤄진다.
대부분 엔진 하부 시스템은 게임이 돌아가는 동안 주기적으로 업데이트 해야 한다.
얼마나 자주 업데이트 해줘야 하는지는 하부 시스템 마다 다르다.

> 엔진 하부 시스템 예
* 장치 I/O
* 렌더링
* 애니메이션
* 충돌 감지 및 처리
* 강체 역학 시뮬레이션
* 멀티플레이어 네트워크
* 오디오

가장 단순한 방법으로 엔진 하부 시스템을 업데이트 한다고 생각하면 모든 하부 시스템이 한 루프에서 주기적으로 실행 될 것이다.
이 때 이 루프가 게임 루프이다.

## 7.3 게임 루프 구조의 형태

### 7.3.1 윈도우 메시지 펌프

윈도우 플렛폼에서 돌아가는 게임들은 엔진 하부 시스템들 뿐 아니라 운영체제에서 오는 메세지들도 처리해야 한다.
따라서 윈도우 게임에는 메시지 펌프라는 코드가 존재한다.
기본적으로 윈도우 메시지는 오는 대로 처리하고 더 이상 처리할 윈도우 메시지가 없을 때 게임 엔진을 처리하는 방식을 사용한다.
이와 같이 게임 루프를 구현하면 게임 렌더링과 시뮬레이션보다 윈도우 메시지들이 우선 처리된다.
